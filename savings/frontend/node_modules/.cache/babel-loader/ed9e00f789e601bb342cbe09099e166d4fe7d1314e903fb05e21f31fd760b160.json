{"ast":null,"code":"import _defineProperty from\"/Users/benhillier/Documents/GitHub/kids-saving-app/kidsavings/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/benhillier/Documents/GitHub/kids-saving-app/kidsavings/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/benhillier/Documents/GitHub/kids-saving-app/kidsavings/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import csrftoken from'./CSRFToken';import currentToken from\"./CSRFToken\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _React$useState=React.useState({email:\"\",password:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),formData=_React$useState2[0],setFormData=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),token=_React$useState4[0],setToken=_React$useState4[1];// Update registerData whenever form data changes\nfunction handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},name,value));});}function handleSubmit(event){event.preventDefault();fetch('http://127.0.0.1:8000/api/login/',{method:'POST',headers:{\"Content-type\":\"application/json; charset=UTF-8\",'X-CSRFToken':csrftoken},body:JSON.stringify({email:formData.email,password:formData.password})}).then(function(response){return response.json();}).then(function(data){return props.setPageSelector(data);});console.log(currentToken);}return/*#__PURE__*/_jsx(\"form\",{className:\"login-form\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-div\",children:[/*#__PURE__*/_jsx(\"p\",{children:props.loggedOut}),/*#__PURE__*/_jsx(\"p\",{children:token}),/*#__PURE__*/_jsx(\"h2\",{children:\"Parent Login\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email\",className:\"rf-input rf-parent-name\",type:\"text\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password\",className:\"rf-input rf-parent-name\",type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"rf-submit\",children:\"Login\"})]})});};export default Login;","map":{"version":3,"names":["React","csrftoken","currentToken","jsx","_jsx","jsxs","_jsxs","Login","props","_React$useState","useState","email","password","_React$useState2","_slicedToArray","formData","setFormData","_React$useState3","_React$useState4","token","setToken","handleChange","event","_event$target","target","name","value","prevFormData","_objectSpread","_defineProperty","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","setPageSelector","console","log","className","onSubmit","children","loggedOut","placeholder","type","id","onChange","required"],"sources":["/Users/benhillier/Documents/GitHub/kids-saving-app/kidsavings/frontend/src/components/Login.js"],"sourcesContent":["import React from 'react'\nimport csrftoken from './CSRFToken';\nimport currentToken from \"./CSRFToken\"\n\nconst Login = (props) => {\n  const[formData, setFormData] = React.useState({\n    email: \"\",\n    password: \"\",    \n  })\n  const[token, setToken] = React.useState()\n\n  // Update registerData whenever form data changes\n  function handleChange(event) {\n    const {name, value} = event.target;\n    setFormData((prevFormData) => ({\n      ...prevFormData,\n      [name]: value,\n    }))\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    fetch('http://127.0.0.1:8000/api/login/', {\n      method: 'POST',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n        'X-CSRFToken': csrftoken,\n      },\n      body: JSON.stringify({\n        email: formData.email,\n        password: formData.password\n      })\n    })\n    .then(response => response.json())\n    .then(data => props.setPageSelector(data))\n    console.log(currentToken)\n  }\n\n  return (\n    <form className=\"login-form\" onSubmit={handleSubmit}> \n      <div className=\"login-div\">\n          <p>{props.loggedOut}</p>\n          <p>{token}</p>\n          <h2>Parent Login</h2>\n          <input \n            placeholder=\"Email\"\n            className=\"rf-input rf-parent-name\"\n            type=\"text\"\n            id=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            required/>\n          <input \n            placeholder=\"Password\"\n            className=\"rf-input rf-parent-name\"\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n            required/>\n          <button className='rf-submit'>Login</button>\n      </div>\n\n    </form>\n  )\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}