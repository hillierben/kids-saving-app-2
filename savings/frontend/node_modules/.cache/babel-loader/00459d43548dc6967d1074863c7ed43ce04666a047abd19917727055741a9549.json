{"ast":null,"code":"import _slicedToArray from\"/Users/benhillier/Documents/GitHub/kids-saving-app/kidsavings/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faBars}from'@fortawesome/free-solid-svg-icons';import MenuListData from\"./MenuListData\";import Sidebar from\"./Sidebar\";import{Outlet,Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{useContext}from\"react\";import TokenContext from\"../contexts/Token\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(props){var _React$useState=React.useState(\"show\"),_React$useState2=_slicedToArray(_React$useState,2),hideLinks=_React$useState2[0],setHideLinks=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),menuClick=_React$useState4[0],setMenuClick=_React$useState4[1];var _React$useState5=React.useState(\"hide\"),_React$useState6=_slicedToArray(_React$useState5,2),showSidebar=_React$useState6[0],setShowSidebar=_React$useState6[1];var navigate=useNavigate();var _useContext=useContext(TokenContext),token=_useContext.token,setToken=_useContext.setToken,user=_useContext.user,setUser=_useContext.setUser;function handleLogout(){console.log(token);fetch('http://127.0.0.1:8000/api/logout/',{method:'GET',headers:{\"Content-type\":\"application/json; charset=UTF-8\"}});props.handlePage(\"login\");alert(\"You have been logged out\");console.log(\"Will you navigate?\");return navigate(\"/login\");}React.useEffect(function(){// Hide or show Nav Links\nfunction handleResize(){if(window.innerWidth<940){setHideLinks(\"hide\");}else{setHideLinks(\"show\");setShowSidebar(\"hide\");setMenuClick(false);}}// Listen for window size change\nwindow.addEventListener(\"resize\",handleResize);handleResize();},[]);function handleIconClick(){setShowSidebar(showSidebar===\"hide\"?\"show\":\"hide\");}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBars,size:\"2xl\",className:hideLinks===\"show\"?\"icon-fa-bar-hidden\":menuClick===false?\"icon-fa-bar\":\"icon-fa-bar-open\",onClick:function onClick(){handleIconClick();setMenuClick(!menuClick);}}),/*#__PURE__*/_jsx(\"h1\",{className:hideLinks===\"hide\"?\"saving-logo-center\":\"saving-logo\",children:\"Saving Stars\"}),/*#__PURE__*/_jsx(MenuListData,{className:hideLinks===\"show\"?\"nav-list\":\"nav-list-hidden\",handlePage:props.handlePage,handleLogout:handleLogout})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(Sidebar,{className:showSidebar===\"show\"?\"sidebar-div\":\"sidebar-div-hidden\",handlePage:props.handlePage,handleClick:function handleClick(){handleIconClick();setMenuClick(false);},handleLogout:handleLogout})}),/*#__PURE__*/_jsx(Outlet,{})]});};export default Navbar;","map":{"version":3,"names":["React","FontAwesomeIcon","faBars","MenuListData","Sidebar","Outlet","Link","useNavigate","useContext","TokenContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","props","_React$useState","useState","_React$useState2","_slicedToArray","hideLinks","setHideLinks","_React$useState3","_React$useState4","menuClick","setMenuClick","_React$useState5","_React$useState6","showSidebar","setShowSidebar","navigate","_useContext","token","setToken","user","setUser","handleLogout","console","log","fetch","method","headers","handlePage","alert","useEffect","handleResize","window","innerWidth","addEventListener","handleIconClick","children","className","icon","size","onClick","handleClick"],"sources":["/Users/benhillier/Documents/GitHub/kids-saving-app/kidsavings/frontend/src/components/Navbar.js"],"sourcesContent":["import React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\nimport MenuListData from \"./MenuListData\";\nimport Sidebar from \"./Sidebar\";\nimport { Outlet, Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport TokenContext from \"../contexts/Token\";\n\nconst Navbar = (props) => {\n    const[hideLinks, setHideLinks] = React.useState(\"show\");\n    const[menuClick, setMenuClick] = React.useState(false);\n    const[showSidebar, setShowSidebar] = React.useState(\"hide\");\n    const navigate = useNavigate();\n    const{token, setToken, user, setUser} = useContext(TokenContext);\n\n    function handleLogout() {\n        console.log(token)\n        fetch('http://127.0.0.1:8000/api/logout/', {\n        method: 'GET',\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n        },\n        })\n        props.handlePage(\"login\")\n        alert(\"You have been logged out\")\n        console.log(\"Will you navigate?\")\n        return navigate(\"/login\")\n    }\n    \n    React.useEffect(() => {\n        \n        // Hide or show Nav Links\n        function handleResize() {\n            if(window.innerWidth < 940) {\n                setHideLinks(\"hide\")\n            } else {\n                setHideLinks(\"show\")\n                setShowSidebar(\"hide\")\n                setMenuClick(false)\n            }\n        }\n        \n        // Listen for window size change\n        window.addEventListener(\"resize\", handleResize);\n        handleResize()\n    }, [])\n\n    function handleIconClick() {\n        setShowSidebar(showSidebar === \"hide\" ? \"show\" : \"hide\")\n    }\n\n    return (\n        <>\n            <nav className=\"nav-bar\">\n                <FontAwesomeIcon \n                    icon={faBars} size=\"2xl\" \n                    className={hideLinks === \"show\" ? \"icon-fa-bar-hidden\" : \n                        menuClick === false ? \"icon-fa-bar\" : \"icon-fa-bar-open\"} \n                    onClick={() => {handleIconClick(); setMenuClick(!menuClick)}}\n                    />\n                <h1 className={hideLinks ===\"hide\" ? \"saving-logo-center\" : \"saving-logo\"}>Saving Stars</h1>\n                <MenuListData \n                    className={hideLinks=== \"show\" ? \"nav-list\" : \"nav-list-hidden\"}\n                    handlePage={props.handlePage}\n                    handleLogout={handleLogout}\n                    />\n            </nav>\n            <nav>\n                <Sidebar \n                    className={showSidebar === \"show\" ? \"sidebar-div\" : \"sidebar-div-hidden\"}\n                    handlePage={props.handlePage}\n                    handleClick={() => {handleIconClick(); setMenuClick(false)}}\n                    handleLogout={handleLogout}\n                    />\n            </nav>\n            <Outlet />\n        </>\n    )\n}\n\nexport default Navbar\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}