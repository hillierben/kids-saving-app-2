{"ast":null,"code":"import _defineProperty from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import TokenContext from'../contexts/Token';import{useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTask=function AddTask(){var _useState=useState({task:\"\",amount:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useContext=useContext(TokenContext),user=_useContext.user;var addTask=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://127.0.0.1:8000/api/add-task/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"task\":formData.task,\"amount\":formData.amount,\"user\":user})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;case 6:case\"end\":return _context.stop();}},_callee);}));return function addTask(){return _ref.apply(this,arguments);};}();function handleSubmit(e){e.preventDefault();// alert(`task: ${formData.task}, amount: ${formData.amount}`)\naddTask();}function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Task Here\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"task\",value:formData.task,onChange:handleChange,required:true,placeholder:\"Task\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",step:\"0.10\",value:formData.amount,onChange:handleChange,required:true,placeholder:\"Amount(\\xA30.00)\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Task\"})]})]});};export default AddTask;","map":{"version":3,"names":["React","useState","useEffect","TokenContext","useContext","jsx","_jsx","jsxs","_jsxs","AddTask","_useState","task","amount","_useState2","_slicedToArray","formData","setFormData","_useContext","user","addTask","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","stop","apply","arguments","handleSubmit","e","preventDefault","handleChange","event","_event$target","target","name","value","prevFormData","_objectSpread","_defineProperty","children","onSubmit","type","onChange","required","placeholder","step"],"sources":["/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/src/components/AddTask.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport TokenContext from '../contexts/Token'\nimport { useContext } from 'react'\n\nconst AddTask = () => {\n    const[formData, setFormData] = useState({\n        task: \"\",\n        amount: \"\",\n        })\n    const{ user } = useContext(TokenContext)\n\n\n    let addTask = async () => {\n        let response = await fetch(\"http://127.0.0.1:8000/api/add-task/\", {\n            method: \"POST\",\n            headers:{\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"task\": formData.task,\n                \"amount\": formData.amount,\n                \"user\": user,\n            })\n        })\n        let data = await response.json()\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        // alert(`task: ${formData.task}, amount: ${formData.amount}`)\n        addTask()\n    }\n\n    function handleChange(event) {\n        const {name, value} = event.target;\n        setFormData((prevFormData) => ({\n            ...prevFormData,\n            [name]: value,\n        }))\n        }\n\n    return (\n        <div>\n        <h1>Add Task Here</h1>\n        <form onSubmit={handleSubmit}>\n            <input \n                type=\"text\" \n                name=\"task\"\n                value={formData.task}\n                onChange={handleChange}\n                required\n                placeholder='Task'\n            />\n            <input \n                type=\"number\" \n                name=\"amount\"\n                step=\"0.10\"\n                value={formData.amount}\n                onChange={handleChange}\n                required\n                placeholder='Amount(Â£0.00)'\n            />\n            <button type=\"submit\">Add Task</button>\n        </form>\n\n        </div>\n    )\n}\n\nexport default AddTask\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}