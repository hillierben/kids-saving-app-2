{"ast":null,"code":"import _slicedToArray from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faBars}from'@fortawesome/free-solid-svg-icons';import MenuListData from\"./MenuListData\";import Sidebar from\"./Sidebar\";import{Outlet}from\"react-router-dom\";import{Navigate}from\"react-router-dom\";import{useContext}from\"react\";import TokenContext from\"../contexts/Token\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(props){var _React$useState=React.useState(\"show\"),_React$useState2=_slicedToArray(_React$useState,2),hideLinks=_React$useState2[0],setHideLinks=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),menuClick=_React$useState4[0],setMenuClick=_React$useState4[1];var _React$useState5=React.useState(\"hide\"),_React$useState6=_slicedToArray(_React$useState5,2),showSidebar=_React$useState6[0],setShowSidebar=_React$useState6[1];var _useContext=useContext(TokenContext),token=_useContext.token,setToken=_useContext.setToken,user=_useContext.user,setUser=_useContext.setUser;function handleLogout(){// // fetch('http://127.0.0.1:8000/api/logout/', {\n// // method: 'GET',\n// // headers: {\n// //   \"Content-type\": \"application/json; charset=UTF-8\",\n//   //'X-CSRFToken': token,\n// // },\n// // })\n// // props.handlePage(\"login\")\n// // Clear Context variables and local storage\nsetUser(null);setToken(null);localStorage.removeItem(\"userName\");localStorage.removeItem(\"userEmail\");alert(\"You have been logged out\");return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}React.useEffect(function(){// Hide or show Nav Links\nfunction handleResize(){if(window.innerWidth<940){setHideLinks(\"hide\");}else{setHideLinks(\"show\");setShowSidebar(\"hide\");setMenuClick(false);}}// Listen for window size change\nwindow.addEventListener(\"resize\",handleResize);handleResize();},[]);function handleIconClick(){setShowSidebar(showSidebar===\"hide\"?\"show\":\"hide\");}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBars,size:\"2xl\",className:hideLinks===\"show\"?\"icon-fa-bar-hidden\":menuClick===false?\"icon-fa-bar\":\"icon-fa-bar-open\",onClick:function onClick(){handleIconClick();setMenuClick(!menuClick);}}),/*#__PURE__*/_jsx(\"h1\",{className:hideLinks===\"hide\"?\"saving-logo-center\":\"saving-logo\",children:\"Saving Stars\"}),/*#__PURE__*/_jsx(MenuListData,{className:hideLinks===\"show\"?\"nav-list\":\"nav-list-hidden\",handlePage:props.handlePage,handleLogout:handleLogout})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(Sidebar,{className:showSidebar===\"show\"?\"sidebar-div\":\"sidebar-div-hidden\",handlePage:props.handlePage,handleClick:function handleClick(){handleIconClick();setMenuClick(false);},handleLogout:handleLogout})}),/*#__PURE__*/_jsx(Outlet,{})]});};export default Navbar;","map":{"version":3,"names":["React","FontAwesomeIcon","faBars","MenuListData","Sidebar","Outlet","Navigate","useContext","TokenContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","props","_React$useState","useState","_React$useState2","_slicedToArray","hideLinks","setHideLinks","_React$useState3","_React$useState4","menuClick","setMenuClick","_React$useState5","_React$useState6","showSidebar","setShowSidebar","_useContext","token","setToken","user","setUser","handleLogout","localStorage","removeItem","alert","to","useEffect","handleResize","window","innerWidth","addEventListener","handleIconClick","children","className","icon","size","onClick","handlePage","handleClick"],"sources":["/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/src/components/Navbar.js"],"sourcesContent":["import React from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\nimport MenuListData from \"./MenuListData\";\nimport Sidebar from \"./Sidebar\";\nimport { Outlet } from \"react-router-dom\";\nimport { Navigate } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport TokenContext from \"../contexts/Token\";\n\nconst Navbar = (props) => {\n    const[hideLinks, setHideLinks] = React.useState(\"show\");\n    const[menuClick, setMenuClick] = React.useState(false);\n    const[showSidebar, setShowSidebar] = React.useState(\"hide\");\n    const{token, setToken, user, setUser} = useContext(TokenContext);\n\n    function handleLogout() {\n        // // fetch('http://127.0.0.1:8000/api/logout/', {\n        // // method: 'GET',\n        // // headers: {\n        // //   \"Content-type\": \"application/json; charset=UTF-8\",\n        //   //'X-CSRFToken': token,\n        // // },\n        // // })\n        // // props.handlePage(\"login\")\n        // // Clear Context variables and local storage\n        setUser(null)\n        setToken(null)\n        localStorage.removeItem(\"userName\")\n        localStorage.removeItem(\"userEmail\")\n        alert(\"You have been logged out\")\n        return <Navigate to=\"/login\"/>\n    }\n    \n    React.useEffect(() => {\n        \n        // Hide or show Nav Links\n        function handleResize() {\n            if(window.innerWidth < 940) {\n                setHideLinks(\"hide\")\n            } else {\n                setHideLinks(\"show\")\n                setShowSidebar(\"hide\")\n                setMenuClick(false)\n            }\n        }\n        \n        // Listen for window size change\n        window.addEventListener(\"resize\", handleResize);\n        handleResize()\n    }, [])\n\n    function handleIconClick() {\n        setShowSidebar(showSidebar === \"hide\" ? \"show\" : \"hide\")\n    }\n\n    return (\n        <>\n            <nav className=\"nav-bar\">\n                <FontAwesomeIcon \n                    icon={faBars} size=\"2xl\" \n                    className={hideLinks === \"show\" ? \"icon-fa-bar-hidden\" : \n                        menuClick === false ? \"icon-fa-bar\" : \"icon-fa-bar-open\"} \n                    onClick={() => {handleIconClick(); setMenuClick(!menuClick)}}\n                    />\n                <h1 className={hideLinks ===\"hide\" ? \"saving-logo-center\" : \"saving-logo\"}>Saving Stars</h1>\n                <MenuListData \n                    className={hideLinks=== \"show\" ? \"nav-list\" : \"nav-list-hidden\"}\n                    handlePage={props.handlePage}\n                    handleLogout={handleLogout}\n                    />\n            </nav>\n            <nav>\n                <Sidebar \n                    className={showSidebar === \"show\" ? \"sidebar-div\" : \"sidebar-div-hidden\"}\n                    handlePage={props.handlePage}\n                    handleClick={() => {handleIconClick(); setMenuClick(false)}}\n                    handleLogout={handleLogout}\n                    />\n            </nav>\n            <Outlet />\n        </>\n    )\n}\n\nexport default Navbar\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}