{"ast":null,"code":"import _regeneratorRuntime from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import TokenContext from'../contexts/Token';import{useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Tasks=function Tasks(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];var _useContext=useContext(TokenContext),token=_useContext.token;var getTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://127.0.0.1:8000/api/get-tasks/\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Authorisation\":\"Bearer \"+String(token.access)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;console.log(data);setTasks(data);case 8:case\"end\":return _context.stop();}},_callee);}));return function getTasks(){return _ref.apply(this,arguments);};}();useEffect(function(){getTasks();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"TASKS\"}),/*#__PURE__*/_jsx(\"ul\",{children:tasks.map(function(task){return/*#__PURE__*/_jsx(\"li\",{children:task.task},task.id);})})]});};export default Tasks;","map":{"version":3,"names":["React","useState","useEffect","TokenContext","useContext","jsx","_jsx","jsxs","_jsxs","Tasks","_useState","_useState2","_slicedToArray","tasks","setTasks","_useContext","token","getTasks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","String","access","sent","json","console","log","stop","apply","arguments","children","map","task","id"],"sources":["/Users/benhillier/Documents/GitHub/kids-saving-app/savings/frontend/src/components/Tasks.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport TokenContext from '../contexts/Token'\nimport { useContext } from 'react'\n\nconst Tasks = () => {\n    let[tasks, setTasks] = useState([])\n\n    const{ token } = useContext(TokenContext)\n\n    let getTasks = async () => {\n        let response = await fetch(\"http://127.0.0.1:8000/api/get-tasks/\", {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorisation\": \"Bearer \" + String(token.access)\n            }\n        })\n        let data = await response.json()\n        console.log(data)\n        setTasks(data)\n    }\n\n    useEffect(() => {\n        getTasks()\n    }, [])\n\n    return (\n        <div>\n            <h1>TASKS</h1>\n            <ul>\n                {tasks.map(task => (\n                    <li key={task.id}>{task.task}</li>\n                ))}\n            </ul>\n        </div>\n    )\n}\n\nexport default Tasks\n"],"mappings":"2dAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,YAAY,KAAM,mBAAmB,CAC5C,OAASC,UAAU,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAChB,IAAAC,SAAA,CAAuBT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEnB,IAAAI,WAAA,CAAiBX,UAAU,CAACD,YAAY,CAAC,CAAlCa,KAAK,CAAAD,WAAA,CAALC,KAAK,CAEZ,GAAI,CAAAC,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACU,CAAAC,KAAK,CAAC,sCAAsC,CAAE,CAC/DC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,SAAS,CAAGC,MAAM,CAACjB,KAAK,CAACkB,MAAM,CACpD,CACJ,CAAC,CAAC,QANEX,QAAQ,CAAAI,QAAA,CAAAQ,IAAA,CAAAR,QAAA,CAAAE,IAAA,SAOK,CAAAN,QAAQ,CAACa,IAAI,CAAC,CAAC,QAA5BZ,IAAI,CAAAG,QAAA,CAAAQ,IAAA,CACRE,OAAO,CAACC,GAAG,CAACd,IAAI,CAAC,CACjBV,QAAQ,CAACU,IAAI,CAAC,yBAAAG,QAAA,CAAAY,IAAA,MAAAjB,OAAA,GACjB,kBAXG,CAAAL,QAAQA,CAAA,SAAAC,IAAA,CAAAsB,KAAA,MAAAC,SAAA,OAWX,CAEDvC,SAAS,CAAC,UAAM,CACZe,QAAQ,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIT,KAAA,QAAAkC,QAAA,eACIpC,IAAA,OAAAoC,QAAA,CAAI,OAAK,CAAI,CAAC,cACdpC,IAAA,OAAAoC,QAAA,CACK7B,KAAK,CAAC8B,GAAG,CAAC,SAAAC,IAAI,qBACXtC,IAAA,OAAAoC,QAAA,CAAmBE,IAAI,CAACA,IAAI,EAAnBA,IAAI,CAACC,EAAmB,CAAC,EACrC,CAAC,CACF,CAAC,EACJ,CAAC,CAEd,CAAC,CAED,cAAe,CAAApC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}